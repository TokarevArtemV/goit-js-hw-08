{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SACA,MACMC,EAAYC,SAASC,cAAc,kBAiBzC,SAASC,EAAwBC,GAC/BA,EAAIC,eACJ,MAAMC,EAAU,GAKhB,OAJA,IAAIC,SAASP,GAAWQ,SAAQ,CAACC,EAAOC,KACtCJ,EAAQI,GAAOD,CAAK,IAEtBE,aAAaC,QAxBW,sBAwBgBC,KAAKC,UAAUR,IAChDA,C,EAjBT,WACE,IAAIS,EAAMJ,aAAaK,QATC,uBAUpBD,IACFA,EAAMF,KAAKI,MAAMF,GACjBG,OAAOC,QAAQJ,GAAKP,SAAQ,EAAEE,EAAKD,MACjCT,EAAUoB,SAASV,GAAKD,MAAQA,CAAK,I,CAV3CY,GAEArB,EAAUsB,iBAAiB,QAASC,EAAAzB,GAAE0B,SAASrB,EAAwB,MACvEH,EAAUsB,iBAAiB,UAsB3B,SAAoBlB,GAClBA,EAAIC,iBACJoB,QAAQC,IAAIvB,EAAwBC,IACpCO,aAAagB,WA/BW,uBAgCxB3B,EAAU4B,O","sources":["src/js/03-feedback.js"],"sourcesContent":["import _ from 'lodash';\nconst LOCAL_STORAGE_KEY = 'feedback-form-state';\nconst formInput = document.querySelector('.feedback-form');\n\ninitForm();\n\nformInput.addEventListener('input', _.throttle(saveFormToLocalStoradge,500));\nformInput.addEventListener('submit', submitForm);\n\nfunction initForm() {\n  let obj = localStorage.getItem(LOCAL_STORAGE_KEY);\n  if (obj) {\n    obj = JSON.parse(obj);\n    Object.entries(obj).forEach(([key, value]) => {\n      formInput.elements[key].value = value;\n    });\n  }\n}\n\nfunction saveFormToLocalStoradge(evt) {\n  evt.preventDefault;\n  const objData = {};\n  new FormData(formInput).forEach((value, key) => {\n    objData[key] = value;\n  });\n  localStorage.setItem(LOCAL_STORAGE_KEY, JSON.stringify(objData));\n  return objData;\n}\n\nfunction submitForm(evt) {\n  evt.preventDefault();\n  console.log(saveFormToLocalStoradge(evt));\n  localStorage.removeItem(LOCAL_STORAGE_KEY);\n  formInput.reset();\n}\n"],"names":["$kEUo3","parcelRequire","$945622fd0f572e60$var$formInput","document","querySelector","$945622fd0f572e60$var$saveFormToLocalStoradge","evt","preventDefault","objData","FormData","forEach","value","key","localStorage","setItem","JSON","stringify","obj","getItem","parse","Object","entries","elements","$945622fd0f572e60$var$initForm","addEventListener","$parcel$interopDefault","throttle","console","log","removeItem","reset"],"version":3,"file":"03-feedback.c1822ab6.js.map"}